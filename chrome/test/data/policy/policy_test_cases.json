{
  "-- Template --": {
    "intro": "This file is interpreted by ios/chrome/browser/policy/policy_unittest.cc",
    "intro": "Tests that policies map to prefs properly.",
    "intro": "Top-level entries map a policy name to its test parameters, described below. The name of the top level entry should be of the form <policy name>[.suffix]. The optional suffix is used for defining multiple test cases for a single policy.",
    "intro": "To run tests from this file run ios_chrome_unittests and pass '--gtest_filter=PolicyTest*'.",


    "intro": "The schema below is a subset of the schema in chrome/test/data/policy/policy_test_cases.json",
    "can_be_recommended": "Whether a recommended value may be set for the policy. Defaults to |false| if not specified. Use |check_for_mandatory| and |check_for_recommended| if you want to provide separate test cases for mandatory/recommended. Otherwise, the same pref mapping is checked for both mandatory+recommended modes when enabled or only as mandatory if disabled.",
    "note": "If the policy affects any preferences, the following array should be specified with one entry per such preference.",

    "policy_pref_mapping_tests": [
      {
        "policies": "A policy dictionary that should affect |prefs| when set as mandatory or recommended policy.",
        "prefs": {
          "${pref}": {
            "value": "If set, the |pref| is controlled by policy (not user modifiable) and should have this value. Either this or |default_value| should be set. Otherwise, if only one policy is specified |value| falls back to that policy's value.",
            "default_value": "If set, the |pref| is not controlled by policy (user modifiable) and should have this value. Either this or |value| should be set.",
            "location": "The location where the pref is registered, possible values are ['user_profile', 'signin_profile', 'local_state']. Defaults to 'user_profile' if not specified.",
            "check_for_mandatory": "Should the preference be tested when a mandatory value is set for the policy? Defaults to |true| if not specified. See |can_be_recommended|.",
            "check_for_recommended": "Should the preference be tested when a recommended value is set for the policy? Defaults to |true| if not specified. See |can_be_recommended|."
          }
        }
      }
    ]
  },

  "AutofillAddressEnabled": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "AutofillAddressEnabled": false },
        "prefs": { "autofill.profile_enabled": {} }
      }
    ]
  },

  "AutofillCreditCardEnabled": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "AutofillCreditCardEnabled": false },
        "prefs": { "autofill.credit_card_enabled": {} }
      }
    ]
  },

  "BrowserSignin.SigninDisabled": {
    "os": ["ios"],
    "policy_pref_mapping_tests": [
      {
        "policies": {
          "BrowserSignin": 0
        },
        "prefs": {
          "signin.allowed_by_policy": {
            "value": false
          }
        }
      }
    ]
  },

  "CloudManagementEnrollmentToken": {
    "reason_for_missing_test": "TODO(crbug.com/1213429) add test case"
  },

  "CloudReportingEnabled": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": { "CloudReportingEnabled": true },
        "prefs": { "enterprise_reporting.chrome_cloud_reporting": { "location": "local_state" } }
      }
    ]
  },

 "ChromeVariations": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": {
          "ChromeVariations": 1
        },
        "prefs": { "variations_restrictions_by_policy": { "location": "local_state" } }
      }
    ]
  },

  "CloudPolicyOverridesPlatformPolicy": {
    "reason_for_missing_test": "TODO(crbug.com/1213429) add test case"
  },

  "DefaultPopupsSetting": {
    "os": [ "ios" ],
    "note": "TODO(crbug.com/106682): Flag this with can_be_recommended",
    "policy_pref_mapping_tests": [
      {
        "policies": { "DefaultPopupsSetting": 1 },
        "prefs": { "profile.managed_default_content_settings.popups": {} }
      },
      {
        "policies": { "DefaultPopupsSetting": 2 },
        "prefs": { "profile.managed_default_content_settings.popups": {} }
      }
    ]
  },

  "DefaultSearchProviderEnabled": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderName": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderKeyword": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderSearchURL": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderSuggestURL": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderIconURL": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderEncodings": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderAlternateURLs": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderImageURL": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderNewTabURL": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderSearchURLPostParams": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderSuggestURLPostParams": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DefaultSearchProviderImageURLPostParams": {
    "reason_for_missing_test": "complex mapping that includes timestamps as well, see PolicyTest.DefaultSearchProvider for a full policy browser test"
  },

  "DisableSafeBrowsingProceedAnyway": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": {"DisableSafeBrowsingProceedAnyway": true},
        "prefs": { "safebrowsing.proceed_anyway_disabled": {}}
      }
    ]
  },

  "EditBookmarksEnabled": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": { "EditBookmarksEnabled": false },
        "prefs": { "bookmarks.editing_enabled": {} }
      }
    ]
  },

  "IncognitoModeAvailability": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": { "IncognitoModeAvailability": 1 },
        "prefs": { "incognito.mode_availability": {} }
      },
      {
        "policies": { "IncognitoModeAvailability": 2 },
        "prefs": { "incognito.mode_availability": {} }
      }
    ]
  },

  "MetricsReportingEnabled": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": { "MetricsReportingEnabled": false },
        "prefs": { "user_experience_metrics.reporting_enabled": { "location": "local_state" } }
      }
    ]
  },

  "NTPContentSuggestionsEnabled": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": { "NTPContentSuggestionsEnabled": false },
        "prefs": { "ios.ntp.content_suggestions_enabled": {} }
      }
    ]
  },

  "PasswordManagerEnabled": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "PasswordManagerEnabled": false },
        "prefs": { "credentials_enable_service": {} }
      }
    ]
  },
  "PolicyRefreshRate": {
    "os": ["ios"],
    "policy_pref_mapping_tests": [
      {
        "policies": {
          "PolicyRefreshRate": 300000
        },
        "prefs": { "policy.user_refresh_rate": { "location": "local_state", "value": 300000 } }
      }
    ]
  },
  "PopupsAllowedForUrls": {
    "os": [ "ios" ],
    "note": "TODO(crbug.com/106682): Flag this with can_be_recommended",
    "policy_pref_mapping_tests": [
      {
        "policies": { "PopupsAllowedForUrls": ["[*.]google.com"]},
        "prefs": { "profile.managed_popups_allowed_for_urls": {} }
      }
    ]
  },

  "PopupsBlockedForUrls": {
    "os": [ "ios" ],
    "note": "TODO(crbug.com/106682): Flag this with can_be_recommended",
    "policy_pref_mapping_tests": [
      {
        "policies": { "PopupsBlockedForUrls": ["[*.]google.com"]},
        "prefs": { "profile.managed_popups_blocked_for_urls": {} }
       }
     ]
   },

  "PrintingEnabled":{
      "os":["ios"],
      "policy_pref_mapping_tests":[
          {
              "policies":{"PrintingEnabled": true},
              "prefs":{
                "printing.enabled":{
                  "value": true
              }
            }
          },
          {
              "policies":{"PrintingEnabled": false},
              "prefs":{
                "printing.enabled":{
                  "value": false
              }
            }
          }
      ]
  },

  "SafeBrowsingEnabled": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "SafeBrowsingEnabled": false },
        "prefs": { "safebrowsing.enabled": {} }
      },
      {
        "policies": { "SafeBrowsingEnabled": true },
        "prefs": { "safebrowsing.enabled": {} }
      }
    ]
  },

  "SafeBrowsingProtectionLevel": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "SafeBrowsingProtectionLevel": 2 },
        "prefs": {
          "safebrowsing.enabled": { "value": true },
          "safebrowsing.enhanced": { "value": true }
        }
      }
    ]
  },

  "SavingBrowserHistoryDisabled": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "SavingBrowserHistoryDisabled": false },
        "prefs": { "history.saving_disabled": {} }
      },
      {
        "policies": { "SavingBrowserHistoryDisabled": true },
        "prefs": { "history.saving_disabled": {} }
      }
    ]
  },

  "SearchSuggestEnabled": {
	"os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": { "SearchSuggestEnabled": false },
        "prefs": { "search.suggest_enabled": {} }
      }
    ]
  },
  "SyncDisabled": {
    "os": ["ios"],
    "policy_pref_mapping_tests": [
      {
        "policies": { "SyncDisabled": true },
        "prefs": { "sync.managed": { "value": true } }
      },
      {
        "policies": { "SyncDisabled": false },
        "prefs": { "sync.managed": { "default_value": false } }
      },
      {
        "policies": { },
        "prefs": { "sync.managed": { "default_value": false } }
      }
    ]
  },
  "TranslateEnabled": {
    "os": [ "ios" ],
    "can_be_recommended": true,
    "policy_pref_mapping_tests": [
      {
        "policies": {"TranslateEnabled": false},
        "prefs": { "translate.enabled": {} }
      }
    ]
  },

  "URLBlocklist": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": {"URLBlocklist": ["google.com"]},
        "prefs": { "policy.url_blocklist": {}}
      }
    ]
  },

  "URLAllowlist": {
    "os": [ "ios" ],
    "policy_pref_mapping_tests": [
      {
        "policies": {"URLAllowlist": ["google.com"]},
        "prefs": { "policy.url_allowlist": {}}
      }
    ]
  },

  "UrlKeyedAnonymizedDataCollectionEnabled": {
    "os": ["ios"],
    "policy_pref_mapping_tests": [
      {
        "policies": {
          "UrlKeyedAnonymizedDataCollectionEnabled": true
        },
        "prefs": { "url_keyed_anonymized_data_collection.enabled": { "value": true } }
      },
      {
        "policies": {
          "UrlKeyedAnonymizedDataCollectionEnabled": false
        },
        "prefs": { "url_keyed_anonymized_data_collection.enabled": { "value": false } }
      }
    ]
  },

  "ManagedBookmarks": {
    "reason_for_missing_test": "TODO(crbug.com/1213429) add test case"
  },

  "EnableExperimentalPolicies":{
    "reason_for_missing_test": "This policy has no pref as it is only directly read by the policy system."
  }
}
